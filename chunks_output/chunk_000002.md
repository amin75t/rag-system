# Chunk 2

ard | SPAN | اختیاری | سوال کاربر   (user_query: str)
تاریخچه سوالات کاربر (history: list) | آیا ورودی غیرمجاز است؟ (is_illegal: bool)
علت غیرمجاز بودن ورودی  (reason: str) | 1 |
| 6 | prepare_for_generation** |

---

---

